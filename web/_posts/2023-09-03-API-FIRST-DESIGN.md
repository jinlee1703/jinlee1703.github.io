---
layout: post
title: API First Design
description: >
  INFCON 2023에서 우아한형제들의 김정규님의 발표 세션을 듣고, 해당 내용에 대해 복기하여 보다 나은 API 명세서를 작성하는 방법에 대해 고민해보고자 게시글을 작성하게 되었다.
sitemap: false
hide_last_modified: true
---

---

### 작성 배경

&nbsp; 소프트웨어 마에스트로 과정을 통해 꽤 장기간 동안 프로젝트를 진행하고 있다. 프로젝트에 쏟은 시간만 어느덧 3개월이 지나가 버렸는데, 지난 8월 15일에 인프콘에 다녀오면서 우아한형제들의 김정규님의 `오늘도 여러분의 API는 '안녕'하신가요 : API First Design과 Codegen 활용하기`라는 발표를 듣고, 해당 내용을 정리하여 '우리 프로젝트에 도입해볼 수 있을까'라는 고민을 하게 되어 발표 복기 겸 도입 여부를 검토해보고자 한다.

---

## 발표 내용 요약

### Part 1. API에 대한 과거 개발 경험과 문제점

#### 1.1. API로부터 고통받는 순간들

&nbsp; 개발자라면 누구나 한 번 쯤은 **API 문서**에 대해서 곤란함을 겪었던 적이 있었을 것이다. Frontend 개발자 입장에서는 Backend 개발자에게 전달받은 API 명세가 적혀 있는 대로 동작하지 않아 당황스러웠다거나, 개발 일정에 쫒겨 API 문서를 언제쯤 받을 수 있을 지 물어본 적이 있었을 것이다. 반대로 Backend 개발자 입장에서는 어떻게 API 설계를 해야할 지, 어떤 형식으로 만들어야 할 지, 참고할만한 템플릿이 없을지, 그리고 API 코드 수정 이후 API 문서에 정확히 반영하지 않아 문제가 있었던 적이 있을 것이다.

#### 1.2. 실제 경험했던 API 문제점

&nbsp; 김정규님께서 이전에 API 개발을 했을 때 프로세스는 아래와 같았다.

1. **API 설계 문서 작성**: Notion, Excel, Word와 같은 프로그램을 이용해 작성한다.
2. **API 문서에 따라 코드 구현**: 1번의 단계에서 작성된 문서에 따라 코드를 구현한다.
3. **문서화 도구 이용**: 2번의 단계에서 작성된 코드에 Swagger나 Spring Rest Docs 같은 도구를 이용해 API 문서를 구현한다.
4. **API 문서 전달**: 3번의 단계에서 구현된 API 문서를 Frontend 개발자에게 전달한다.

&nbsp; 이 과정은 얼핏보면 문제가 없겠지만, 비즈니스 요구사항 변경으로 기존 API를 변경해야 할 때 문제가 발생한다.<br>
&nbsp; 우선 첫 번째로는 위의 1번 단계에서 생성되는 API 문서에 일관성을 부여할 수 없다. 정해진 템플릿을 사용하는 것이 아니기 때문에 만드는 사람에 따라 API 설계 문서를 작성하는 기준이 다르고, 이는 일관성이 없는 API 설계 문서를 초래하여, 하나의 API 설계 문서를 일관성 있게 관리하기 위한 관리 비용이 증가하게 된다.<br>
&nbsp; 두 번째로는 두 개의 API 문서가 생긴다는 것이다. 위의 프로세스에서 1번 단계(밑그림을 그리는 API 설계 문서)와 3번 단계에서 각각의 API 문서(Frontend에 전달되는 최종 API 문서)가 생기게 되고, 이는 '무엇이 정확한 API 문서인가?'라는 의문을 발생시킬 수 있다.<br>
&nbsp; 세 번째로는 코드 변경 사항이 최종 API 문서에 반영되지 않을 수 잇다는 것이다. API 문서에 따른 코드 구현 이후 API 문서화 도구를 통해 수정이 되지만,

### Part 2. API FIRST DESIGN 이야기하기

#### 2.1. API First Design 정의

#### 2.2. API First Design으로 문제 해결하기

#### 2.3. API First Design 더욱 잘 황용하기

#### 2.4. 아하! 이런 오해가 있었구나

#### 2.5. 아하! 이런 오해가 있었구나
